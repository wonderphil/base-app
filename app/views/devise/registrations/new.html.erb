<%
 title "#{app_title} - Register"
 meta_description app_title
 heading "#{app_title} - Register"
 pclass "signup-page"
%>


<div class="page-header section-image">
  <div class="page-header-image signup_background" ></div>
  <div class="content">
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          
        </div>

        <div class="col-md-6">
          <div class="card card-signup">
            <div class="card-body">
              <h4 class="card-title text-center">Register or Sign in with</h4>

              <div class="social text-center">
                <%= link_to user_twitter_omniauth_authorize_path, class: "social_login_btn" do %>
                  <button class="btn btn-icon btn-round btn-twitter">
                    <%= icon('fab', 'twitter') %>
                  </button>
                <% end %>
                <%= link_to user_amazon_omniauth_authorize_path, class: "social_login_btn" do %>
                  <button class="btn btn-icon btn-round btn-dribbble">
                    <%= icon('fab', 'amazon') %>
                  </button>
                <% end %>
                <%= link_to user_facebook_omniauth_authorize_path, class: "social_login_btn" do %>
                  <button class="btn btn-icon btn-round btn-facebook">
                    <%= icon('fab', 'facebook-f') %>
                  </button>
                <% end %>
                <%= link_to user_google_omniauth_authorize_path, class: "social_login_btn" do %>
                  <button class="btn btn-icon btn-round btn-google">
                    <%= icon('fab', 'google') %>
                  </button>
                <% end %>
                <h5 class="card-description"> or Signup Below </h5>
              </div>

              <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
                <%= devise_error_messages! %>
                <%= f.hidden_field :provider, value: 'email' %>
              
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><%= icon('far', 'user')%></span>
                  </div>
                  <%= f.text_field :name, autocomplete: "name", class: "form-control", placeholder: "Full Name..." %>
                </div>

                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><%= icon('far', 'envelope')%></span>
                  </div>
                  <%= f.email_field :email, autocomplete: "email", class: "form-control", placeholder: "Your Email..." %>
                </div>

                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><%= icon('fas', 'unlock')%></span>
                  </div>
                  <%= f.password_field :password, autocomplete: "new-password", class: "form-control", placeholder: "Password..." %>
                </div>

                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><%= icon('fas', 'unlock')%></span>
                  </div>
                  <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control", placeholder: "Password Confirmation..." %>
                </div>

                <div class="input-group recaptcha">
                  <%= recaptcha_tags %>
                </div>

                <div class="form-check">
                  <%= f.label :tcs, class: "form-check-label" do %>
                    <%= f.check_box :tcs, class: "form-check-input" %>
                    <span class="form-check-sign"></span>
                    I agree to the <%= link_to "T&C and Privacy Policy", privacy_path %>.
                  <% end %>
                </div>

                <div class="card-footer text-center">
                  <%= f.submit "Sign up", class: "btn btn-primary btn-round btn-lg" %>
                </div>
                <div class="pull-left">
                  <h6>
                    <%= link_to "Sign In", new_user_session_path, class: "link footer-link" %>
                  </h6>
                </div>
                <div class="pull-right">
                  <h6>
                    <%= link_to "Need Help?", "#", class: "link footer-link", "data-toggle" => "modal", "data-target" => "#need_help_modal" %>
                  </h6>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </div>
</div>

<div class="modal fade" id="need_help_modal" tabindex="-1" role="dialog" aria-labelledby="need_help_modal_label" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          <i class="now-ui-icons ui-1_simple-remove"></i>
        </button>
        <h4 class="title title-up">Having issues signing in or signing up?</h4>
      </div>
      <div class="modal-body">
        
        <%- if devise_mapping.recoverable? && controller_name != 'passwords' %>
          <%= link_to "Forgot your password?", new_password_path(resource_name) %><br />
        <% end -%>

        <%- if devise_mapping.confirmable? && controller_name != 'confirmations' %>
          <%= link_to "Didn't receive confirmation instructions?", new_confirmation_path(resource_name) %><br />
        <% end -%>

        <%- if devise_mapping.lockable? && resource_class.unlock_strategy_enabled?(:email) && controller_name != 'unlocks' %>
          <%= link_to "Didn't receive unlock instructions?", new_unlock_path(resource_name) %><br />
        <% end -%>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>