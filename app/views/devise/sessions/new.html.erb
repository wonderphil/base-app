<%
 title "#{app_title} - SignIn"
 meta_description app_title
 heading "Sign To #{app_title}"
 pclass "login-page"
%>


<div class="page-header"  filter-color="orange">
  <div class="page-header-image signin_background" ></div>
  <div class="content">
    <div class="container">
      <div class="col-md-5 ml-auto mr-auto">
        <div class="card card-login card-plain">
          <h4 class="card-title ">Sign in with</h4>
          <div class="card-header text-center">  
            <%= link_to user_twitter_omniauth_authorize_path, class: "social_login_btn" do %>
              <button class="btn btn-icon btn-round btn-twitter">
                <%= icon('fab', 'twitter') %>
              </button>
            <% end %>
            <%= link_to user_amazon_omniauth_authorize_path, class: "social_login_btn" do %>
              <button class="btn btn-icon btn-round btn-dribbble">
                <%= icon('fab', 'amazon') %>
              </button>
            <% end %>
            <%= link_to user_facebook_omniauth_authorize_path, class: "social_login_btn" do %>
              <button class="btn btn-icon btn-round btn-facebook">
                <%= icon('fab', 'facebook-f') %>
              </button>
            <% end %>
            <%= link_to user_google_omniauth_authorize_path, class: "social_login_btn" do %>
              <button class="btn btn-icon btn-round btn-google">
                <%= icon('fab', 'google') %>
              </button>
            <% end %>
            <h5 class="card-header text-center"> or Sign In Below </h5>
          </div>

          <div class="card-body">
            <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
              <%= devise_error_messages! %>
            
              <div class="input-group form-group-no-border input-lg">
                <div class="input-group-prepend">
                  <span class="input-group-text"><%= icon('far', 'envelope')%></span>
                </div>
                <%= f.email_field :email, autocomplete: "email", class: "form-control", placeholder: "Your Email..." %>
              </div>

              <div class="input-group form-group-no-border input-lg">
                <div class="input-group-prepend">
                  <span class="input-group-text"><%= icon('fas', 'unlock')%></span>
                </div>
                <%= f.password_field :password, autocomplete: "password", class: "form-control", placeholder: "Password..." %>
              </div>

              <div class="form-check">
                <%= f.label :remember_me, class: "form-check-label" do %>
                  <%= f.check_box :remember_me, class: "form-check-input" %>
                  <span class="form-check-sign"></span>
                  Remember me.
                <% end %>
              </div>

              <div class="card-footer text-center">
                <%= f.submit "Log In", class: "btn btn-primary btn-round btn-lg" %>
              </div>
              <div class="pull-left">
                <h6>
                  <%= link_to "Create Account", new_user_registration_path, class: "link footer-link" %>
                </h6>
              </div>
              <div class="pull-right">
                <h6>
                  <%= link_to "Need Help?", "#", class: "link footer-link", "data-toggle" => "modal", "data-target" => "#need_help_modal" %>
                </h6>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="need_help_modal" tabindex="-1" role="dialog" aria-labelledby="need_help_modal_label" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          <i class="now-ui-icons ui-1_simple-remove"></i>
        </button>
        <h4 class="title title-up">Having issues signing in or signing up?</h4>
      </div>
      <div class="modal-body">
        
        <%- if devise_mapping.recoverable? && controller_name != 'passwords' %>
          <%= link_to "Forgot your password?", new_password_path(resource_name) %><br />
        <% end -%>

        <%- if devise_mapping.confirmable? && controller_name != 'confirmations' %>
          <%= link_to "Didn't receive confirmation instructions?", new_confirmation_path(resource_name) %><br />
        <% end -%>

        <%- if devise_mapping.lockable? && resource_class.unlock_strategy_enabled?(:email) && controller_name != 'unlocks' %>
          <%= link_to "Didn't receive unlock instructions?", new_unlock_path(resource_name) %><br />
        <% end -%>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>